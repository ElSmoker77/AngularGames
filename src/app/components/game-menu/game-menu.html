<div class="menu-wrapper" *ngIf="view === 'none'; else gameView">
  <h1 class="title">Mini Arcade</h1>
  <p class="subtitle">Elige un modo para jugar</p>

  <div class="cards">
    <!-- Roguelike -->
    <button class="card card--proto" (click)="open('roguelike')">
      <h2>
        Roguelike
        <span class="tag tag--proto">Prototipo</span>
      </h2>
      <p>Exploración y enemigos (single player solo PC).</p>
    </button>

    <!-- Duelo local -->
    <button class="card card--proto" (click)="open('duel-local')">
      <h2>
        Duelo local
        <span class="tag tag--proto">Prototipo</span>
      </h2>
      <p>2 jugadores.</p>
    </button>

    <!-- Duelo online -->
    <button class="card card--beta" (click)="open('duel-online')">
      <h2>
        Duelo online
        <span class="tag tag--beta">Beta</span>
      </h2>
      <p>Juega con un amigo usando un código de sala.</p>
    </button>
  </div>
</div>

<ng-template #gameView>
  <div class="game-container">
    <!-- Botón flotante SOLO para roguelike / local -->
    <button
      class="back-btn"
      *ngIf="view === 'roguelike' || view === 'duel-local'"
      (click)="backToMenu()"
    >
      ← Volver al menú
    </button>

    <app-game *ngIf="view === 'roguelike'"></app-game>
    <app-duel-local *ngIf="view === 'duel-local'"></app-duel-local>

    <!-- Duelo online: recibe evento para volver al menú -->
    <app-duel-online
      *ngIf="view === 'duel-online'"
      (exitToMenu)="backToMenu()"
    ></app-duel-online>
  </div>
</ng-template>
